
[toc]

# OWMC二期功能

## 0. 功能完善(Asher 2d).
1. 添加校验用户配置的端口是否被占用的流程.
2. 子命令添加  
2.1. 指定ip,列出服务器上已经部署的所有节点信息(节点数目, 占用端口信息).   
2.2  打好的一个包, 导出所有链的数据, 不使用ansible,类似物料包的功能, 将OWMC构建的安装包导出来, 用户自行实现安装过程.  
2.3 web3sdk添加所有节点的连接信息.  
2.4 内部加上一个fisco-bcos版本判断的模块.
 
## 1. 扩容功能(Octo 3.5day)
扩容需要genesis.json、bootstrapsnodes.json文件(1.3)

### 同机构扩容(0.5d)
1. 安装包已经存在, 在已经存在的服务器上添加新节点, 添加新增节点的node目录即可, node目录名称nodeIDX, IDX从0开始自增.
2. 安装包不存在, 在新的服务器上进行扩容, 直接创建新的完整的安装包.

### 不同机构扩容(0.5d)
1. 需要获取genesis.json、bootstrapsnodes.json文件(获取途径自定, 在命令行参数里面指定路径).
2. 构建安装包.

### 扩容发布(1d)
判断节点安装包或者节点目录是否存在, 不存在的进行推送. 

### 节点入网(1.5d)
1. register.sh unregister.sh 注册节点入网, 对该脚本进行改造, 需要在节点同步完所有块高之后再发送注册交易.
2. register.sh由谁来执行, 即节点入网管理的问题. 目前该脚本每个安装包下都存在, 执行时可以将本服务器的节点进行注册.
3. 如何区分已经入网的节点跟没有入网的节点.

## 2. CA整合(Asher 3day)
暂时考虑三级证书, 两级证书的模式放入1.5的整合.
使用安全那边提供的证书, 先确认下能否使用.
### OWMC自动分配节点证书模式.
用户提供机构证书, 自动分配节点证书.  => 用户可以分配任意的节点的CA, 是否合理
### 用户提供节点、sdk证书的模式.
用户按指定格式提供每个节点的证书, fisco-bcos能否适配用户提供的CA(CA适配)
### 提供根证书, 其他证书均自行分配.

## 3. 行内发布流程整合(Octo 3day) 
1. 使用文档.
2. 整合行内的监控, 以及配置信息.

## 4. v1.3 v1.5 v2.0模块化(XXXX)

## 5. 国密支持(Asher 3days)
### 内部区分国密的逻辑.
### 去掉nodejs(目前都去掉了nodejs).
### 1.3有国密版本, 1.5没有, 2.0.

## 6. 诊断功能整合(Octo 2day)
check monitor env_check子命令整合
fisco-bcos log分析

## 7. 适配3.5+python(Octo 2day)

## 8. 注释 => English(XXX)

## 9. 文档(Asher 3day)

## 后期(先不做排期)
### 1.5流程整合
0. 1.5 CA为两级.
1. genesis.json为默认文件, 不用启动temp节点导出.
2. config.conf配置.
3. 扩容流程与1.3的差异.


# 二期开发具体排期
开发人员 ： 王章(Octopuswang) 李昊轩(asherli)  
开发日期 ： 2018-10-15 - 2018-10-30  
具体排期 ：   
第一周(2018-10-15 - 2018-10-20)   
Asher: 功能完善, CA整合  
Octo: 扩容功能,诊断功能完善

第二周(2018-10-22 - 2018-10-27)  
Asher: 国密支持整合. 
Octo: 行内发布流程整合, Python3.5适配

第三天(2018-10-29 - 2018-10-31)  
文档整理, 注释整理, buf时间
